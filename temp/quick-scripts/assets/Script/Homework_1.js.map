{"version":3,"sources":["Homework_1.js"],"names":["valid","require","mEmitter","cc","Class","extends","Component","properties","userName","EditBox","passWord","btnLogin","Button","progressBar","ProgressBar","scrollView","ScrollView","welcomeSpeech","RichText","noti","userTip","Label","passTip","item","Prefab","index","_checkPass","_checkUser","onLoad","node","active","interactable","validateUser","str","format","test","string","length","checkPassLength","lower","upper","number","textLabel","log","editUser","editPass","signupClicked","date","Date","seconds","getSeconds","parseInt","minutes","getMinutes","hour","getHours","progress","data","addScrollView","record","instantiate","getComponent","y","content","addChild","children","start"],"mappings":"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","file":"Homework_1.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar valid = require('./ValidateEditbox')\nconst mEmitter = require(\"./EmitterClass\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        userName: cc.EditBox,\n        passWord: cc.EditBox,\n        btnLogin: cc.Button,\n        progressBar: cc.ProgressBar,\n        scrollView: cc.ScrollView,\n        welcomeSpeech: cc.RichText,\n        noti: cc.RichText,\n        userTip: cc.Label,\n        passTip: cc.Label,\n        item: cc.Prefab,\n        index: 0,\n        _checkPass: false,\n        _checkUser: false,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.welcomeSpeech.node.active = false;\n        this.userTip.node.active = false;\n        this.passTip.node.active = false;\n        this.btnLogin.interactable = false;\n        this.noti.node.active = false;\n        //cc.log(validate);\n        //mEmitter.instance.emit('Hello','Hello Yetyet');\n    },\n\n    validateUser(str) {\n        var format = /[ `!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\n        if(format.test(str)) {\n            this.userTip.node.active = true;\n            this.userTip.string = 'Username cannot contain special character';\n        }  else if (str.length > 10) {\n            this.userTip.node.active = true;\n            this.userTip.string = 'Username cannot have more than 10 characters';\n        } else this._checkUser = true;\n        if(this._checkPass && this._checkUser) this.btnLogin.interactable = true;\n    },\n    \n    checkPassLength(str) {\n        var format = /[ `!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?~]/;\n        var lower = /[a-z]/\n        var upper = /[A-Z]/\n        var number = /[0-9]/\n        if(str.textLabel.string.length > 12) {\n            this.passTip.node.active = true;\n            this.passTip.string = 'Password cannot have more than 12 characters';\n        } else if(format.test(str.textLabel.string)) {\n            this.passTip.node.active = true;\n            this.passTip.string = 'Password cannot contain special character';\n        } else if(str.textLabel.string.length < 6) {\n            this.passTip.node.active = true;\n            this.passTip.string = 'Password must have at least 6 characters';\n        }  else if(lower.test(str.textLabel.string) && upper.test(str.textLabel.string) && number.test(str.textLabel.string)) {\n            this.passTip.node.active = false; \n            this._checkPass = true;\n        } else this.passTip.string = 'Password must contain at least 1 lower, 1 upper character and 1 number'\n        if(this._checkPass === true && this._checkUser === true) this.btnLogin.interactable = true;\n        cc.log(this._checkPass);\n        cc.log(this._checkUser)\n    },\n\n    editUser() {\n        //this.userName.textLabel = '';\n        this.passTip.node.active = false;\n        this.userTip.node.active = true;\n        this.userTip.string = 'Please input your username. No special character';\n    },\n\n    editPass() {\n        //this.passWord.textLabel = '';\n        this.userTip.node.active = false;\n        this.passTip.node.active = true;\n        this.passTip.string = 'Please input your password. No special character';\n    },\n\n    signupClicked() {\n        this.welcomeSpeech.node.active = true;\n        var date = new Date();\n        var seconds = date.getSeconds();\n        if(parseInt(seconds) < 10) seconds = '0' + seconds;\n        var minutes = date.getMinutes();\n        if(parseInt(minutes) < 10) minutes = '0' + minutes;\n        var hour = date.getHours();\n        if(parseInt(hour) < 10) hour = '0' + hour;\n        var string = '<color=#000000>Welcome</c> <u><color = FF0000>' + this.userName.textLabel.string + '</c></u>' + \n                    ' <color=#000000>join this club at</c> <i><color = FFFF00>' + hour + ':' + minutes + ':' + seconds + '</c></i>'\n        this.welcomeSpeech.string = string;\n        this.progressBar.progress += 1/8;\n        if(this.progressBar.progress === 1) {\n            this.btnLogin.node.active = false;\n            this.userName.node.active = false;\n            this.passWord.node.active = false;\n            this.noti.node.active = true;\n        }\n        var data = [hour,minutes,seconds];\n        this.addScrollView(data);\n    },\n\n    addScrollView(data) {\n        var record = cc.instantiate(this.item);\n        record = cc.instantiate(this.item);\n        record.getComponent(cc.Label).string = this.userName.textLabel.string + \"     \" + data[0] + ':' + data[1] + ':' + data[2];\n        record.y -= (30*this.index);\n        this.scrollView.content.addChild(record);\n        cc.log(this.scrollView.content.children );\n        this.index++;\n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});"]}